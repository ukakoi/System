try{window.adcm.ext({knownIds:[1,127,143,1020,1034,1041,1043,1047,1048,1057,1058,1064,1065,1066,1067,1072,1073,1075,1078,1079,1082,1083,1086,1103,1131,1162,1220,2210,2218,2025,2039,4009,6015,6016,6229,6241,6249,6273,6284,6321,6331,6343,6361,6363,6364,6368,6371,6370,6383,4021,6328,6432,6336,6524,6505,6026,6242,6414,6380,6226,6358,6504,6412,6463,6517,6624,6679,6691,7009],encode:function(a){return encodeURIComponent(a)},encodeFull:function(a){return encodeURIComponent(a).replace(/\./g,"%2E")},equal:function(a,b){if(!a||!b)return!1;if(a.length!=b.length)return!1;for(var c=0,d=a.length;d>c;c++)if(a[c]instanceof Array&&b[c]instanceof Array){if(!this.equal(a[c],b[c]))return!1}else if(a[c]!=b[c])return!1;return!0},blank:function(a){return a||""},aggregate:function(a){var b=document.referrer,c=window.location.hash,d=[],e="i="+this.session+".";if(e+=a.extdataid?this.encode(a.extdataid):Math.round(1e15*Math.random()),a.profileId&&a.platformId){var f=this.encode(a.platformId),g=this.encode(a.profileId);e+="&a="+f+"&e="+g,d.push("ss:"+f),d.push("up:"+g),d.push("sync:up")}a&&a.idSessionDomain&&d.push("xdua:"+this.encode(a.idSessionDomain)),a&&a.idSessionPage&&d.push("xps:"+this.encode(a.idSessionPage)),a&&a.idGa&&d.push("xga:"+this.encode(a.idGa)),a.tm&&(d.push("tm:"+this.encode(a.tm)),a.tmstart&&d.push("tmstart:"+this.encode(a.tmstart)),a.tmend&&d.push("tmend:"+this.encode(a.tmend)),a.tmpoints&&d.push("tmpoints:"+this.encode(a.tmpoints)),a.tminterval&&d.push("tminterval:"+this.encode(a.tminterval)),a.tmiter&&d.push("tmiter:"+this.encode(a.tmiter))),a&&a.event&&d.push("et:"+this.encode(a.event)),a&&a.price&&d.push("ip:"+this.encode(a.price)),a&&a.elapsed_seconds&&d.push("es:"+this.encode(a.elapsed_seconds)),this.params||(this.params={referrer:b?/\/\/([^#]*)/gi.exec(b)[1]:/\/\/([^#]*)/gi.exec(window.location.href)[1],hash:null,tags:null});var h=function(a){return a=a.replace(/[^a-z0-9\.]+/g,"_"),a=a.replace(/[\_\_]+/g,"_"),a.replace(/[\.]+/g,"__")},i=window.location.hostname;"www."===i.substring(0,4)&&(i=i.substring(4,i.length));var j=h(i.substring(i.lastIndexOf(".",i.lastIndexOf(".")-1)+1));i=h(i),i!==j?(d.push("dn:"+this.encode(i)),d.push("dn:"+this.encode(j))):d.push("dn:"+this.encode(j)),a.tags&&d.push("tg:"+this.encode(a.tags.join(" ")));var k=/\/\/([^#]*)/gi.exec(window.location.href)[1];return k!==this.params.referrer&&(d.push("cr:"+this.encode(b)),this.params.referrer=k),this.blank(c)!==this.blank(this.params.hash)&&(d.push("rh:"+this.encode(c.substr(1))),this.params.hash=c),d.length>0&&(e+="&c="+d.join(".")),e},relocate:function(a){this.knownIds.indexOf(this.config.id)>=0?this.load(a,window.location.protocol+"//tag.digitaltarget.ru/extensions/extension_"+this.config.id+".js?i="+Math.round(1e15*Math.random())):"function"==typeof a()&&a()},array_unique:function(a){var b=[];return a.forEach(function(a){a=a.trim(),-1===b.indexOf(a)&&b.push(a)}),b},call:function(a){var b=this;a?a.tags?(a.tags=a.tags.concat(b.config.tags),a.tags=b.array_unique(a.tags)):a.tags=b.config.tags:a={tags:b.config.tags},(a.profileId||this.config.profileId)&&(a.profileId=a.profileId||this.config.profileId,a.platformId=a.platformId||this.config.platformId||this.config.id),a.extdataid=a.extdataid||this.config.extdataid,a.idSessionDomain=a.idSessionDomain||this.config.idSessionDomain,a.idSessionPage=a.idSessionPage||this.config.idSessionPage,a.idGa=a.idGa||this.config.idGa;var c=function(){var c=new Image;try{"function"==typeof a.success?c.onload=a.success:"function"==typeof b.config.triggers.push_to_server.success&&(c.onload=b.config.triggers.push_to_server.success),"function"==typeof a.error?c.onload=a.error:"function"==typeof b.config.triggers.push_to_server.error&&(c.onerror=b.config.triggers.push_to_server.error)}catch(d){}c.src=window.location.protocol+"//dmg.digitaltarget.ru/1/"+b.config.id+"/i/i?"+b.aggregate(a)};if(this.loaded)c();else var d=setInterval(function(){b.loaded&&(c(),clearInterval(d))},1e3)},callpixel:function(a){var b=this,c="i="+this.session+"."+Math.round(1e15*Math.random()),d=function(){var b=new Image;b.src=window.location.protocol+"//dmg.digitaltarget.ru/1/"+a+"/i/i?"+c};if(this.loaded)d();else var e=setInterval(function(){b.loaded&&(d(),clearInterval(e))},1e3)},callextpixel:function(a){if(a=a.toString(),"undefined"!=typeof a&&a){var b=this,c=function(){var b=new Image;b.src=window.location.protocol+a};if(this.loaded)c();else var d=setInterval(function(){b.loaded&&(c(),clearInterval(d))},1e3)}else console.log("ADCM: Invalid external pixel url")},sessionManager:{page:{set:function(a){var b="_84hUio38";try{window.sessionStorage&&"undefined"!=typeof window.sessionStorage.setItem&&window.sessionStorage.setItem(b,a)}catch(c){}},get:function(){var a="_84hUio38",b=window.adcm;try{if(window.sessionStorage&&"undefined"!=typeof window.sessionStorage.getItem){var c=window.sessionStorage.getItem(a);if(c)return c;var d=b.sessionManager._generateRandomString("xps");return b.sessionManager.page.set(d),d}}catch(e){}}},domain:{set:function(a){var b="_a_d3t6sf";window.adcm;try{window.localStorage&&"undefined"!=typeof window.localStorage.setItem&&window.localStorage.setItem(b,a),document.cookie=b+"="+a+"; expires=Thu, 01 Jan 2024 00:00:00 UTC; path=/"}catch(c){}},get:function(){var a="_a_d3t6sf",b=window.adcm;try{if(window.localStorage&&"undefined"!=typeof window.localStorage.getItem){var c=window.localStorage.getItem(a);if(c)return b.sessionManager.domain.set(c),c}}catch(d){}try{var e=document.cookie.replace(new RegExp("(?:(?:^|.*;s*)"+a+"s*=s*([^;]*).*$)|^.*$"),"$1");if(e)return b.sessionManager.domain.set(e),e}catch(d){}try{var f=b.sessionManager._generateRandomString("du");return b.sessionManager.domain.set(f),f}catch(d){}}},_generateRandomString:function(a){try{for(var b="",c="wIVhxG0YUu56jA9DKZqt2EeviXpL3kF8dcP4_NybsmHQ1glBozSJfR7MarOWCTn",d=0;22>d;d++)b+=c.charAt(Math.floor(Math.random()*c.length));return a+b}catch(e){}}},triggers:{trackMouse:function(){try{var a=window.adcm,b=a.config.triggers.trackMouse;if(!b.enable)return!1;var c=Math.sqrt,d=Math.abs,e=function(a){return Math.pow(a,2)},f=function(a,b){return d(a-b)},g=function(a){a.sort(function(a,b){return a[0]==b[0]?a[1]-b[1]:a[0]-b[0]});for(var b=[],c=0;c<a.length;c++){for(;b.length>=2&&h(b[b.length-2],b[b.length-1],a[c])<=0;)b.pop();b.push(a[c])}for(var d=[],c=a.length-1;c>=0;c--){for(;d.length>=2&&h(d[d.length-2],d[d.length-1],a[c])<=0;)d.pop();d.push(a[c])}return d.pop(),b.pop(),b.concat(d)},h=function(a,b,c){return(a[0]-c[0])*(b[1]-c[1])-(a[1]-c[1])*(b[0]-c[0])},j=function(a,b){var c=[];for(i=0;i<a.length;i++)c.push([a[i],b[i]]);return c},k=function(a){for(var b=0,c=0,e=a.length;e>c;c++){var f=a[c][0],g=a[c===a.length-1?0:c+1][1],h=a[c===a.length-1?0:c+1][0],i=a[c][1];b+=f*g*.5,b-=h*i*.5}return d(b)},l=function(a,b,c){var d=0;if(c)for(i=1;i<b.length;i++)d+=a(b[i],b[i-1],c[i],c[i-1]);else for(i=1;i<b.length;i++)d+=a(b[i],b[i-1]);return d},m=function(a,b){for(var c=0,d=0;d<b.length;d++)c+=a(b[d]);return c},n=function(a){for(var b=[],c=1;c<a.length;c++)b.push(a[c]-a[c-1]);return b},o=function(a,b,d,f){return c(e(a-b)+e(d-f))},p=function(a,b){var c=l(o,a,b),d=l(f,a),e=l(f,b);return[c,d,e]},q=function(a){var b=0;for(var d in a)a[d]=b+a[d]/a.length;var f=b/a.length,g=c((m(e,a)-a.length*e(f))/(a.length-1));return[f,g]},r=function(a){for(var b=a.length,c=0,d=1;b>d;d++)a[d]-a[d-1]<0&&c++;return c/b},s=function(a){return m(d,a)/a.length},t=function(a,b,c){for(var d=a.length,e=0,f=0;d>f;f++)predicate=a[f]<c*b,predicate&&e++;return e/d},u=function(c,d,e,f,g){a.call({tm:c.join(","),tmstart:d,tmend:e,tmpoints:f,tminterval:b.interval,tmiter:g})},v=function(a){for(var b in a)try{if(!a[b]||isNaN(a[b])||a[b]===1/0||a[b]===-(1/0)){a[b]=0;continue}a[b]=a[b].toFixed(6)}catch(c){}return a},w=function(){var a={x:[],y:[]},c=Date.now(),d=function(){try{return document.all?function(b){var c=event.x+document.body.scrollLeft,d=event.y+document.body.scrollTop;document.getElementById("coords").innerHTML="X : "+c+" px, Y : "+d+" px | Window size: "+window.innerWidth+" x "+window.innerHeight,document.getElementById("coords-history").innerHTML="X : "+c+", Y : "+d+"<br />"+document.getElementById("coords-history").innerHTML,a.x.push(c),a.y.push(d)}:function(b){var c=b.pageX,d=b.pageY;a.x.push(c),a.y.push(d)}}catch(b){}}();document.getElementsByTagName("body")[0].addEventListener("mousemove",d);var e=0,f=setInterval(function(){if(e++,e>b.stopRetryCount)return clearInterval(f),document.getElementsByTagName("body")[0].removeEventListener("mousemove",d),!1;if(0===a.x.length)return!1;var g=c,h=[].concat(a.x),i=[].concat(a.y),j=h.length;a={x:[],y:[]},c=Date.now();var k=x(h,i);u(v(k),g,c,j,e)},b.interval)},x=function(a,b){var c=a.length,e=p(a,b),f=e[0],h=e[1],i=e[2],l=a[0],m=Math.max.apply(Math,a),u=Math.min.apply(Math,a),v=b[0],w=Math.max.apply(Math,b),x=Math.min.apply(Math,b),y=q(a),z=y[0],A=y[1],B=q(b),C=B[0],D=B[1],E=d(a[c-1]-a[0])/c,F=d(b[c-1]-b[0])/c,G=o(a[c-1],a[0],b[c-1],b[0]),H=f/c,I=r(a,c),J=r(b,c),K=n(a),L=n(b),M=K.length,N=K[0],O=Math.max.apply(Math,K),P=Math.min.apply(Math,K),Q=L[0],R=Math.max.apply(Math,L),S=Math.min.apply(Math,L),T=q(K),U=T[0],V=T[1],W=q(L),X=W[0],Y=W[1],Z=s(K),$=s(L),_=t(K,Z,coeff=.05),aa=t(L,$,coeff=.05),ba=d(K[M-1]-K[0])/M,ca=d(L[M-1]-L[0])/M,da=o(K[M-1],K[0],L[M-1],L[0]),ea=n(K),fa=n(L),ga=ea.length,ha=ea[0],ia=Math.max.apply(Math,ea),ja=Math.min.apply(Math,ea),ka=fa[0],la=Math.max.apply(Math,fa),ma=Math.min.apply(Math,fa),na=q(ea),oa=na[0],pa=na[1],qa=q(fa),ra=qa[0],sa=qa[1],ta=d(ea[ga-1]-ea[0])/ga,ua=d(fa[ga-1]-fa[0])/ga,va=o(ea[ga-1],ea[0],fa[ga-1],fa[0]),wa=s(ea),xa=s(fa),ya=t(ea,wa,coeff=.05),za=t(fa,xa,coeff=.05),Aa=n(ea),Ba=n(fa),Ca=Aa[0],Da=Math.max.apply(Math,Aa),Ea=Math.min.apply(Math,Aa),Fa=Ba[0],Ga=Math.max.apply(Math,Ba),Ha=Math.min.apply(Math,Ba),Ia=q(Aa),Ja=Ia[0],Ka=Ia[1],La=q(Ba),Ma=La[0],Na=La[1],Oa=k(g(j(a,b)));return[f,h,i,z,A,C,D,E,F,G,H,I,J,U,V,X,Y,ba,ca,da,Z,$,_,aa,oa,pa,ra,sa,ta,ua,va,wa,xa,ya,za,Ja,Ka,Ma,Na,Oa,l,m,u,v,w,x,N,O,P,Q,R,S,ha,ia,ja,ka,la,ma,Ca,Da,Ea,Fa,Ga,Ha]};w()}catch(y){}},gaid:function(){try{var a=window.adcm,b=a.config.triggers.gaid,c=document.cookie.replace(/(?:(?:^|.*;\s*)_ga\s*\=\s*([^;]*).*$)|^.*$/,"$1");c&&(a.call({tags:["gaid"],gauid:c}),"function"==typeof b.callback()&&b.callback())}catch(d){}},noBounce:function(){try{var a=window.adcm,b=a.config.triggers.noBounce,c=b.param_call;c.tags=c.tags||[],c.tags.push("nobounce"),setTimeout(function(){a.call(c),"function"==typeof b.callback()&&b.callback()},1e3*b.timeout)}catch(d){}},page_down_scroll:function(){try{var a=window.adcm,b=a.config.triggers.page_down_scroll,c=b.param_call,d=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),e=d-b.margin_bottom,f=function(){var d=document.documentElement,g=document.body,h=(d.scrollTop||g&&g.scrollTop||0)-d.clientTop+d.clientHeight;h>e&&(window.removeEventListener("scroll",f,!1),c.event="pds",a.call(c),"function"==typeof b.callback()&&b.callback())};window.addEventListener("scroll",f,!1),window.scrollTo(window.scrollX,window.scrollY-1)}catch(g){}},elapsed_seconds:function(){try{var a=window.adcm,b=a.config.triggers.elapsed_seconds,c=b.param_call;if(!b.timeouts||"object"!=typeof b.timeouts||0===b.timeouts.length)return!1;b.timeouts.forEach(function(d){setTimeout(function(){c.elapsed_seconds=d,a.call(c),"function"==typeof b.callback()&&b.callback()},1e3*d)})}catch(d){}},init_call:function(){var a=window.adcm,b=a.config.triggers.init_call,c=b.param_call;c.tags||(c.tags=[]),c.tags.push("adcmjs_init");try{"undefined"!=typeof window.DeviceOrientationEvent&&window.DeviceOrientationEvent&&"ontouchstart"in window?a.config.tags.push("adcmjs_orient"):a.config.tags.push("adcmjs_noorient")}catch(d){}a.call(c),"function"==typeof b.callback()&&b.callback()},config:function(){try{var a=window.adcm,b=a.config.triggers.config,c=function(b){if(0===b.length)return!1;if(b.tags){var c=b.tags.split(" ");a.config.tags=a.config.tags.concat(c),a.config.tags=Array.from(new Set(a.config.tags)),a.config.tags=a.array_unique(a.config.tags)}for(var d in b)"tags"!==d&&"undefined"!=typeof a.config[d]&&(a.config[d]=b[d])};if(b.el_id&&"string"==typeof b.el_id){var d=document.getElementById(b.el_id);if(!d)return!1;c(d.dataset)}else if(b.el_class_name&&"string"==typeof b.el_class_name){var e=document.getElementsByClassName(b.el_class_name);for(inner_i=0;inner_i<e.length;inner_i++){var d=e[inner_i];d&&c(d.dataset)}}"function"==typeof b.callback()&&b.callback()}catch(f){}},scroll_to:function(){var a=window.adcm,b=a.config.triggers.scroll_to,c=b.param_call,d=document.documentElement,e=document.body,f=e.getBoundingClientRect();(d.scrollTop||e&&e.scrollTop||0)-d.clientTop+d.clientHeight;!function(){var g={},h=[];for(var i in b.markers){var j=b.markers[i];if(j.el_id&&"string"==typeof j.el_id){var k=document.getElementById(j.el_id);if(!k)continue;var l=k.getBoundingClientRect();b.markers[i]._checkpoint_heigh=l.top-f.top,h.push(b.markers[i]._checkpoint_heigh),g[b.markers[i]._checkpoint_heigh]=b.markers[i]}else if(j.el_class_name&&"string"==typeof j.el_class_name){var m=document.getElementsByClassName(j.el_class_name);for(inner_i=0;inner_i<m.length;inner_i++){var k=m[inner_i];if(k){var l=k.getBoundingClientRect();b.markers[i]._checkpoint_heigh=l.top-f.top,h.push(b.markers[i]._checkpoint_heigh),g[b.markers[i]._checkpoint_heigh]=b.markers[i]}}}}var n=function(){if(0===g.length||0===h.length)return window.removeEventListener("scroll",n,!1),!1;var f=window.innerHeight,i=(d.scrollTop||e&&e.scrollTop||0)-d.clientTop+d.clientHeight,j=i-f/100*(100-b.window_checkpoint_percent),k=Math.min.apply(Math,h);if(k>j)return!1;var l=g[k];return"undefined"==typeof l?(window.removeEventListener("scroll",n,!1),!1):(c.event=l.event,a.call(c),"function"==typeof b.callback()&&b.callback(),"function"==typeof l.callback()&&l.callback(),delete g[k],void h.splice(h.indexOf(k),1))};window.addEventListener("scroll",n,!1),n()}()}}})}catch(e){}